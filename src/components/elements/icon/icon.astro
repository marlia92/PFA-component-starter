---
import { Icon as AstroIcon } from "astro-icon/components";

const { name, size = "lg", className, ...rest } = Astro.props;

const isValidName = name && name.trim();

if (!isValidName) {
  console.warn("Icon component received empty or invalid name:", name);
}

const htmlAttributes = Object.fromEntries(
  Object.entries(rest).filter(([key]) => key !== "_component")
);
---

{
  isValidName && (
    <AstroIcon
      name={name}
      class:list={["icon", `size-${size}`, name?.includes("social/") && "fill", className]}
      {...htmlAttributes}
    />
  )
}
